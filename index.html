<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Clima en Chile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light p-4">

  <div class="container">
    <h1 class="mb-4">Consulta del Clima en Chile ☀️</h1>

    <div class="mb-3">
      <label for="ciudad" class="form-label">Selecciona una ciudad:</label>
      <select id="ciudad" class="form-select">
        <option value="">-- Elige una ciudad --</option>
        <option value="SCFA">Antofagasta</option>
        <option value="SCAR">Arica</option>
        <option value="SCCI">Puerto Natales</option>
        <option value="SCDA">Iquique</option>
        <option value="SCTE">Temuco</option>
        <option value="SCTI">Valdivia</option>
        <option value="SCCI">Puerto Natales</option>
        <option value="SCEL">Santiago Poniente</option>
        <option value="SCIE">Concepción</option>
        <option value="SCCI">Puerto Natales</option>
        <option value="SCHR">Puerto Montt</option>
        <option value="SCGZ">Puerto Williams</option>
        <option value="SCQN">Santiago Centro</option>
        <!-- Puedes agregar más -->
      </select>
    </div>

    <div id="resultado" class="alert alert-info d-none"></div>
  </div>

  <script>
    document.getElementById('ciudad').addEventListener('change', function() {
      const codigo = this.value;
      if (!codigo) return;

      fetch(`https://api.boostr.cl/weather/${codigo}.json`)
        .then(response => response.json())
        .then(data => {
          const clima = data.data;
          const html = `
            <h4>${clima.city}</h4>
            <p><strong>Temperatura:</strong> ${clima.temperature}°C</p>
            <p><strong>Condición:</strong> ${clima.condition}</p>
            <p><strong>Humedad:</strong> ${clima.humidity}%</p>
            <p><small>Última actualización: ${clima.updated_at}</small></p>
          `;
          const div = document.getElementById('resultado');
          div.innerHTML = html;
          div.classList.remove('d-none');
        })
        .catch(error => {
          document.getElementById('resultado').innerHTML = '❌ No se pudo obtener el clima.';
          document.getElementById('resultado').classList.remove('d-none');
        });
    });
  </script>

</body>
</html>
